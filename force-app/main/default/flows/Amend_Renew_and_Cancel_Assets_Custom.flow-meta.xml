<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Amend_Assets</name>
        <label>Amend Assets</label>
        <locationX>1964</locationX>
        <locationY>3662</locationY>
        <actionName>initiateAmendment</actionName>
        <actionType>initiateAmendment</actionType>
        <connector>
            <targetReference>Assign_outputRecordId_from_amendRecordId</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>amendAssetIds</name>
            <value>
                <elementReference>recordIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>amendStartDate</name>
            <value>
                <elementReference>Selected_Start_Date</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>quantityChange</name>
            <value>
                <elementReference>quantityChange</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>amendOutputType</name>
            <value>
                <elementReference>outputType</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>amendOpportunityId</name>
            <value>
                <elementReference>OpptyForNewQuote</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>amendContractId</name>
            <value>
                <elementReference>contractId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>amendRecordId</name>
            <value>
                <elementReference>transactionId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>initiateAmendment</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Amend_From_Account</name>
        <label>Amend_From_Account</label>
        <locationX>314</locationX>
        <locationY>2630</locationY>
        <actionName>initiateAmendment</actionName>
        <actionType>initiateAmendment</actionType>
        <connector>
            <targetReference>Assign_outputRecordId_from_Account_amendRecordId</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>amendAssetIds</name>
            <value>
                <elementReference>recordIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>amendStartDate</name>
            <value>
                <elementReference>startDate</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>quantityChange</name>
            <value>
                <elementReference>quantityChange</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>amendOutputType</name>
            <value>
                <elementReference>outputType</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>amendRecordId</name>
            <value>
                <elementReference>transactionId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>initiateAmendment</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Cancel_Assets</name>
        <label>Cancel Assets</label>
        <locationX>3746</locationX>
        <locationY>2630</locationY>
        <actionName>initiateCancellation</actionName>
        <actionType>initiateCancellation</actionType>
        <connector>
            <targetReference>Assign_outputRecordId_from_cancelRecordId</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>cancelAssetIds</name>
            <value>
                <elementReference>recordIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>cancelStartDate</name>
            <value>
                <elementReference>startDate</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>cancelOutputType</name>
            <value>
                <elementReference>outputType</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>cancelContractId</name>
            <value>
                <elementReference>contractId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>cancelRecordId</name>
            <value>
                <elementReference>transactionId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>initiateCancellation</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Cancel_FromAccount</name>
        <label>Cancel_From_Account</label>
        <locationX>3218</locationX>
        <locationY>2630</locationY>
        <actionName>initiateCancellation</actionName>
        <actionType>initiateCancellation</actionType>
        <connector>
            <targetReference>Assign_outputRecordId_from_Account_cancelRecordId</targetReference>
        </connector>
        <faultConnector>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>cancelAssetIds</name>
            <value>
                <elementReference>recordIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>cancelStartDate</name>
            <value>
                <elementReference>startDate</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>cancelOutputType</name>
            <value>
                <elementReference>outputType</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>cancelRecordId</name>
            <value>
                <elementReference>transactionId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>initiateCancellation</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Create_Amend_Quote_Lines_Async</name>
        <label>Create Amend Quote Lines Async</label>
        <locationX>2426</locationX>
        <locationY>5102</locationY>
        <actionName>CreateAmendQuoteLinesAction</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>assetProductIds</name>
            <value>
                <elementReference>AssetProductIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>opptyId</name>
            <value>
                <elementReference>OpptyForNewQuote</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>quoteId</name>
            <value>
                <elementReference>Amend_Assets.amendRecordId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>CreateAmendQuoteLinesAction</nameSegment>
        <offset>0</offset>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Navigate_To_New_Quote</name>
        <label>Navigate To New Quote</label>
        <locationX>974</locationX>
        <locationY>5510</locationY>
        <actionName>c:navigateToRecord</actionName>
        <actionType>component</actionType>
        <connector>
            <targetReference>Empty_Screen</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>newQuoteId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>c:navigateToRecord</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Place_AddOn_Quote</name>
        <label>Place AddOn Quote</label>
        <locationX>974</locationX>
        <locationY>4994</locationY>
        <actionName>PlaceQuoteAction</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Is_Add_On_with_New_Oppty</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>quote</name>
            <value>
                <elementReference>quoteInfo</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>quoteLineItemList</name>
            <value>
                <elementReference>quoteLineList</elementReference>
            </value>
        </inputParameters>
        <nameSegment>PlaceQuoteAction</nameSegment>
        <offset>0</offset>
        <outputParameters>
            <assignToReference>newQuoteId</assignToReference>
            <name>quoteId</name>
        </outputParameters>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Renew_Assets</name>
        <label>Renew Assets</label>
        <locationX>2648</locationX>
        <locationY>1106</locationY>
        <actionName>initiateRenewal</actionName>
        <actionType>initiateRenewal</actionType>
        <connector>
            <targetReference>Assign_outputRecordId_from_renewRecordId</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>renewAssetIds</name>
            <value>
                <elementReference>recordIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>renewOutputType</name>
            <value>
                <elementReference>outputType</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>renewOpportunityId</name>
            <value>
                <elementReference>Create_Renewal_Opportunity</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>renewContractId</name>
            <value>
                <elementReference>contractId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>renewRecordId</name>
            <value>
                <elementReference>transactionId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>initiateRenewal</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>RenewalfromAccount</name>
        <label>RenewalfromAccount</label>
        <locationX>2120</locationX>
        <locationY>998</locationY>
        <actionName>initiateRenewal</actionName>
        <actionType>initiateRenewal</actionType>
        <connector>
            <targetReference>Assign_outputRecordId_from_Account_renewRecordId</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>renewAssetIds</name>
            <value>
                <elementReference>recordIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>renewOutputType</name>
            <value>
                <elementReference>outputType</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>renewRecordId</name>
            <value>
                <elementReference>transactionId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>initiateRenewal</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>61.0</apiVersion>
    <assignments>
        <name>Add_To_AssetProductIds</name>
        <label>Add To AssetProductIds</label>
        <locationX>1821</locationX>
        <locationY>2954</locationY>
        <assignmentItems>
            <assignToReference>AssetProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Through_Assets.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Through_Assets</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_To_Quote_Lines_List</name>
        <label>Add To Quote Lines List</label>
        <locationX>2690</locationX>
        <locationY>4718</locationY>
        <assignmentItems>
            <assignToReference>quoteLineList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>newQuoteLineInfo</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Iterate_through_oppty_lines</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_To_Quote_Lines_List_Add_On</name>
        <label>Add To Quote Lines List-Add On</label>
        <locationX>1194</locationX>
        <locationY>4718</locationY>
        <assignmentItems>
            <assignToReference>quoteLineList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>newQuoteLineInfo</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Iterate_through_oppty_lines_addOn</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_AutoRenewal</name>
        <label>Assign AutoRenewal</label>
        <locationX>842</locationX>
        <locationY>3986</locationY>
        <assignmentItems>
            <assignToReference>AssignAutoRenewal</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>No</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Quote_Instance</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Oppty_ID</name>
        <label>Assign Oppty ID</label>
        <locationX>1733</locationX>
        <locationY>3146</locationY>
        <assignmentItems>
            <assignToReference>OpptyForNewQuote</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>GenLKP_Oppty.selectedRecordOutput.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Oppty_Info</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_OpptyID_to_quoteInfo</name>
        <label>Assign OpptyID to quoteInfo</label>
        <locationX>1106</locationX>
        <locationY>4394</locationY>
        <assignmentItems>
            <assignToReference>quoteInfo.OpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>OpptyForNewQuote</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Iterate_through_oppty_lines_addOn</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Sets the record ID returned by the amendment invocable action.</description>
        <name>Assign_outputRecordId_from_Account_amendRecordId</name>
        <label>Assign outputRecordId from Account amendRecordId</label>
        <locationX>314</locationX>
        <locationY>2738</locationY>
        <assignmentItems>
            <assignToReference>outputRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Amend_From_Account.amendRecordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Sets the record ID returned by the cancellation invocable action.</description>
        <name>Assign_outputRecordId_from_Account_cancelRecordId</name>
        <label>Assign outputRecordId from Account cancelRecordId</label>
        <locationX>3218</locationX>
        <locationY>2738</locationY>
        <assignmentItems>
            <assignToReference>outputRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Cancel_FromAccount.cancelRecordId</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <description>Sets the record ID returned by the renewal invocable action.</description>
        <name>Assign_outputRecordId_from_Account_renewRecordId</name>
        <label>Assign outputRecordId from Account renewRecordId</label>
        <locationX>2120</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>outputRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RenewalfromAccount.renewRecordId</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Assign_outputRecordId_from_amendRecordId</name>
        <label>Assign outputRecordId from amendRecordId</label>
        <locationX>1964</locationX>
        <locationY>3770</locationY>
        <assignmentItems>
            <assignToReference>outputRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Amend_Assets.amendRecordId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>recordIds</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Update_Quote_Fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_outputRecordId_from_cancelRecordId</name>
        <label>Assign outputRecordId from cancelRecordId</label>
        <locationX>3746</locationX>
        <locationY>2738</locationY>
        <assignmentItems>
            <assignToReference>outputRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Cancel_Assets.cancelRecordId</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Assign_outputRecordId_from_renewRecordId</name>
        <label>Assign outputRecordId from renewRecordId</label>
        <locationX>2648</locationX>
        <locationY>1214</locationY>
        <assignmentItems>
            <assignToReference>outputRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Renew_Assets.renewRecordId</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <description>Assigns the startDate variable to the date selected in the previous screen</description>
        <name>Assign_startDate</name>
        <label>Assign startDate</label>
        <locationX>2736</locationX>
        <locationY>2222</locationY>
        <assignmentItems>
            <assignToReference>startDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Start_Date</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Resolve_Action_After_Date_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Validation_Failure</name>
        <label>Assign Validation Failure</label>
        <locationX>1856</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>errorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Validation Failed. Account is not eligible for Quoting.</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Assignment_17</name>
        <label>Assignment 17</label>
        <locationX>2690</locationX>
        <locationY>3986</locationY>
        <assignmentItems>
            <assignToReference>errorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!$Flow.FaultMessage}</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Contract_Doesnt_Exist</name>
        <label>Contract Doesnt Exist</label>
        <locationX>5066</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>errorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Contract Doesn&apos;t exist.</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Create_new_quote_line_item</name>
        <label>Create new quote line item</label>
        <locationX>2690</locationX>
        <locationY>4310</locationY>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Description</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines.Description</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.PricebookEntryId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines.PricebookEntryId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Product2Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Quantity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines.Quantity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.StartDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Start_Date</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Discount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines.Discount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.EndDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contract_Record.EndDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.BillingFrequency</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Annual</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.QuoteId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Amend_Assets.amendRecordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Sales_Price_Different_Than_List_Price</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Create_new_quote_line_item_AddOn</name>
        <label>Create new quote line item - AddOn</label>
        <locationX>1194</locationX>
        <locationY>4610</locationY>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Description</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines_addOn.Description</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.PricebookEntryId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines_addOn.PricebookEntryId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Product2Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines_addOn.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Quantity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines_addOn.Quantity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.StartDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Start_Date</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Discount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines_addOn.Discount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.EndDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contract_Record.EndDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.BillingFrequency</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Annual</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.PeriodBoundary</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Anniversary</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_To_Quote_Lines_List_Add_On</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Create_Quote_Instance</name>
        <label>Create Quote Instance</label>
        <locationX>974</locationX>
        <locationY>4178</locationY>
        <assignmentItems>
            <assignToReference>quoteInfo.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Quote_Name</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.BillingCountry</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contract_Record.BillingCountry</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.CurrencyIsoCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contract_Record.CurrencyIsoCode</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.Pricebook2Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Default_Pricebook.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.ServiceStartDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Start_Date</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.ServiceEndDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contract_Record.EndDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.Term__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TermFormula</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.ExpirationDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Valid_Through_Date</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.ShippingCountry</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contract_Record.ShippingCountry</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.OriginalActionType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Amend</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.QuoteType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New Business</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>quoteInfo.ContractId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>contractId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Needs_a_New_Oppty_2</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>errorMessageAssignment</name>
        <label>errorMessageAssignment</label>
        <locationX>3482</locationX>
        <locationY>2738</locationY>
        <assignmentItems>
            <assignToReference>errorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Get_Selected_Asset_Count</name>
        <label>Get Selected Asset Count</label>
        <locationX>2736</locationX>
        <locationY>1706</locationY>
        <assignmentItems>
            <assignToReference>selectedAssetCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>recordIds</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Amend_Action</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_actionTypeNoun_to_Amendment</name>
        <label>Set actionTypeNoun to &quot;Amendment&quot;</label>
        <locationX>1592</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>actionTypeNoun</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Amendment</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Existing_Record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_actionTypeNoun_to_Cancellation</name>
        <label>Set actionTypeNoun to &quot;Cancellation&quot;</label>
        <locationX>3176</locationX>
        <locationY>782</locationY>
        <assignmentItems>
            <assignToReference>actionTypeNoun</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Cancellation</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Existing_Record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_actionTypeNoun_to_Renewal</name>
        <label>Set actionTypeNoun to &quot;Renewal&quot;</label>
        <locationX>2384</locationX>
        <locationY>782</locationY>
        <assignmentItems>
            <assignToReference>actionTypeNoun</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Renewal</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FromAccountOrContract</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_AssetIDs_to_NULL</name>
        <label>Set AssetIDs to NULL</label>
        <locationX>974</locationX>
        <locationY>3662</locationY>
        <assignmentItems>
            <assignToReference>selectedAssetCount</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>recordIds</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Get_Default_Pricebook</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Discount_to_0</name>
        <label>Set Discount to 0</label>
        <locationX>2558</locationX>
        <locationY>4526</locationY>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.UnitPrice</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Iterate_through_oppty_lines.ListPrice</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newQuoteLineInfo.Discount</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_To_Quote_Lines_List</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>AddonChoice</name>
        <choiceText>I only want to add Products to this Contract</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>AddonChoice</stringValue>
        </value>
    </choices>
    <choices>
        <name>AmendChoice</name>
        <choiceText>Changes to existing Assets, including adding Products</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>amendChoice</stringValue>
        </value>
    </choices>
    <choices>
        <name>Existing_Oppty_Choice</name>
        <choiceText>Use an existing Open Opportunity</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>existingOpptyChoice</stringValue>
        </value>
    </choices>
    <choices>
        <name>New_Oppty_Choice</name>
        <choiceText>Create a New Opportunity for me</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>NewOpptyChoice</stringValue>
        </value>
    </choices>
    <decisions>
        <name>Amend_From_Account_Or_Contract</name>
        <label>Amend_From_Account_Or_Contract</label>
        <locationX>891</locationX>
        <locationY>2522</locationY>
        <defaultConnector>
            <targetReference>Should_Create_New_Oppty</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>From Contract</defaultConnectorLabel>
        <rules>
            <name>AmendFromAccount</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Amend_From_Account</targetReference>
            </connector>
            <label>From Account</label>
        </rules>
    </decisions>
    <decisions>
        <name>Amend_Or_AddOn</name>
        <label>Amend Or AddOn</label>
        <locationX>1469</locationX>
        <locationY>3554</locationY>
        <defaultConnector>
            <targetReference>Amend_Assets</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Amend</defaultConnectorLabel>
        <rules>
            <name>AddOn</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sellingMotionChoices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>AddonChoice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_AssetIDs_to_NULL</targetReference>
            </connector>
            <label>AddOn</label>
        </rules>
    </decisions>
    <decisions>
        <name>Amend_Quote_and_Assets_have_this_Product</name>
        <label>Amend Quote and Assets have this Product?</label>
        <locationX>2536</locationX>
        <locationY>4202</locationY>
        <defaultConnector>
            <targetReference>Create_new_quote_line_item</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Assets_have_this_Product</name>
            <conditionLogic>1 AND ( 2 OR 3 )</conditionLogic>
            <conditions>
                <leftValueReference>AssetProductIds</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>Iterate_through_oppty_lines.Product2Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sellingMotionChoices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>AmendChoice</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sellingMotionChoices</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Iterate_through_oppty_lines</targetReference>
            </connector>
            <label>Assets have this Product</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_there_oppty_lines_to_be_processed</name>
        <label>Are there oppty lines to be processed?</label>
        <locationX>1964</locationX>
        <locationY>3986</locationY>
        <defaultConnector>
            <targetReference>Iterate_through_oppty_lines</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>No_Opptys_to_be_processed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_Oppty_Lines</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Oppty_Lines</leftValueReference>
                <operator>IsEmpty</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>No Opptys to be processed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_there_QLIs_to_be_inserted</name>
        <label>Are there QLIs to be inserted?</label>
        <locationX>2294</locationX>
        <locationY>4994</locationY>
        <defaultConnector>
            <targetReference>Create_Amend_Quote_Lines_Async</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>No_QLIS_to_insert</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>quoteLineList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>quoteLineList</leftValueReference>
                <operator>IsEmpty</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>No QLIS to insert</label>
        </rules>
    </decisions>
    <decisions>
        <name>Cancel_From_Account_Or_Contract</name>
        <label>Cancel_From_Account_Or_Contract</label>
        <locationX>3482</locationX>
        <locationY>2522</locationY>
        <defaultConnector>
            <targetReference>Cancel_Assets</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>FromContract</defaultConnectorLabel>
        <rules>
            <name>CancelFromAccount</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Cancel_FromAccount</targetReference>
            </connector>
            <label>FromAccount</label>
        </rules>
    </decisions>
    <decisions>
        <name>FromAccountOrContract</name>
        <label>FromAccountOrContract</label>
        <locationX>2384</locationX>
        <locationY>890</locationY>
        <defaultConnector>
            <targetReference>Create_Renewal_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>FromContract</defaultConnectorLabel>
        <rules>
            <name>FromAccount</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RenewalfromAccount</targetReference>
            </connector>
            <label>FromAccount</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_Contract_ID_Exists</name>
        <label>If Contract ID Exists</label>
        <locationX>3824</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Contract_Doesnt_Exist</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>ContractID_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>contractId</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Contract_Record</targetReference>
            </connector>
            <label>ContractID Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Add_On_with_New_Oppty</name>
        <label>Is Add On with New Oppty?</label>
        <locationX>974</locationX>
        <locationY>5102</locationY>
        <defaultConnector>
            <targetReference>Navigate_To_New_Quote</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Add_On_with_New_Oppty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sellingMotionChoices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>AddonChoice</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Oppty_Choices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>New_Oppty_Choice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Oppty_for_AddOn_Quote</targetReference>
            </connector>
            <label>Add On with New Oppty</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Amend_Action</name>
        <label>Is Amend Action and only 1 Asset Selected</label>
        <locationX>2736</locationX>
        <locationY>1814</locationY>
        <defaultConnector>
            <targetReference>New_Quote_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Amend_Action</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>actionType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Amend</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>selectedAssetCount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Confirm_Selling_Option</targetReference>
            </connector>
            <label>Amend Action</label>
        </rules>
    </decisions>
    <decisions>
        <description>Prompts the user to select a start date if the Quote or Order does not exist.</description>
        <name>Is_Existing_Record</name>
        <label>Is Existing Record</label>
        <locationX>2582</locationX>
        <locationY>1598</locationY>
        <defaultConnector>
            <targetReference>Get_Selected_Asset_Count</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Record_Is_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>transactionId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>transactionId</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Resolve_Action_After_Date_Screen</targetReference>
            </connector>
            <label>Record Id is Populated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Term_Less_Than_12_Months</name>
        <label>Is Term Less Than 12 Months?</label>
        <locationX>974</locationX>
        <locationY>3878</locationY>
        <defaultConnector>
            <targetReference>Create_Quote_Instance</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>TermFormula</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <numberValue>12.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_AutoRenewal</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Needs_a_New_Oppty_2</name>
        <label>Needs a New Oppty?</label>
        <locationX>974</locationX>
        <locationY>4286</locationY>
        <defaultConnector>
            <targetReference>Assign_OpptyID_to_quoteInfo</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Needs_New_Oppty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Oppty_Choices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>New_Oppty_Choice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Place_AddOn_Quote</targetReference>
            </connector>
            <label>Needs New Oppty</label>
        </rules>
    </decisions>
    <decisions>
        <name>Quoting_Maintenance_Check</name>
        <label>Quoting Maintenance Check</label>
        <locationX>1937</locationX>
        <locationY>242</locationY>
        <defaultConnector>
            <targetReference>If_Contract_ID_Exists</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Under_Maintenance</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Quoting_Maintenance_Check_Subflow.IsQuotingInMaintenanceMode</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Quoting_Under_Maintenance</targetReference>
            </connector>
            <label>Under Maintenance</label>
        </rules>
    </decisions>
    <decisions>
        <description>Resolves the action (e.g., amend or cancel) after the user selects a start date</description>
        <name>Resolve_Action_After_Date_Screen</name>
        <label>Resolve Action After Date Screen</label>
        <locationX>2582</locationX>
        <locationY>2414</locationY>
        <defaultConnectorLabel>No Action Specified</defaultConnectorLabel>
        <rules>
            <name>Amend_After_Date_Screen</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>actionType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Amend</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Amend_From_Account_Or_Contract</targetReference>
            </connector>
            <label>Amend</label>
        </rules>
        <rules>
            <name>Cancel_After_Date_Screen</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>actionType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancel</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Cancel_From_Account_Or_Contract</targetReference>
            </connector>
            <label>Cancel</label>
        </rules>
    </decisions>
    <decisions>
        <description>Resolves the action (e.g., amend, renew, or cancel) that invoked the flow</description>
        <name>Resolve_Action_From_Flow_Entry</name>
        <label>Resolve Action From Flow Entry</label>
        <locationX>2582</locationX>
        <locationY>674</locationY>
        <defaultConnectorLabel>No Action Specified</defaultConnectorLabel>
        <rules>
            <name>Amend_From_Flow_Entry</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>actionType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Amend</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Validations_Succeeded</targetReference>
            </connector>
            <label>Amend</label>
        </rules>
        <rules>
            <name>Renew_From_Flow_Entry</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>actionType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Renew</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_actionTypeNoun_to_Renewal</targetReference>
            </connector>
            <label>Renew</label>
        </rules>
        <rules>
            <name>Cancel_From_Flow_Entry</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>actionType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancel</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_actionTypeNoun_to_Cancellation</targetReference>
            </connector>
            <label>Cancel</label>
        </rules>
    </decisions>
    <decisions>
        <name>Sales_Price_Different_Than_List_Price</name>
        <label>Sales Price Different Than List Price</label>
        <locationX>2690</locationX>
        <locationY>4418</locationY>
        <defaultConnector>
            <targetReference>Add_To_Quote_Lines_List</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Sales Price Equal List Price</defaultConnectorLabel>
        <rules>
            <name>Sales_Price_Greater_Or_Less_Than_List_Price</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>newQuoteLineInfo.UnitPrice</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Iterate_through_oppty_lines.ListPrice</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>newQuoteLineInfo.UnitPrice</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Iterate_through_oppty_lines.ListPrice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Discount_to_0</targetReference>
            </connector>
            <label>Sales Price Greater Or Less Than List Price</label>
        </rules>
    </decisions>
    <decisions>
        <name>Should_Create_New_Oppty</name>
        <label>Should Create New Oppty?</label>
        <locationX>1469</locationX>
        <locationY>2630</locationY>
        <defaultConnector>
            <targetReference>Get_Asset_Records</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Amend_NewOppty</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>Oppty_Choices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>New_Oppty_Choice</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sellingMotionChoices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>AmendChoice</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sellingMotionChoices</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Opportunity</targetReference>
            </connector>
            <label>Amend-NewOppty</label>
        </rules>
        <rules>
            <name>AddOn_NewOppty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sellingMotionChoices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>AddonChoice</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Oppty_Choices</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>New_Oppty_Choice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Amend_Or_AddOn</targetReference>
            </connector>
            <label>AddOn-NewOppty</label>
        </rules>
    </decisions>
    <decisions>
        <name>Validations_Succeeded</name>
        <label>Validations Succeeded?</label>
        <locationX>1724</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>Assign_Validation_Failure</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Failed</defaultConnectorLabel>
        <rules>
            <name>Succeeded</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account_Record.OrgSF_Quoting_Eligibility__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Eligible</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_actionTypeNoun_to_Amendment</targetReference>
            </connector>
            <label>Succeeded</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>f_LastDayOfMonth</name>
        <dataType>Date</dataType>
        <expression>IF( MONTH( TODAY() ) = 12,
DATE( YEAR( TODAY() ), 12, 31),
DATE( YEAR( TODAY() ), MONTH( TODAY() ) +1, 1) -1)</expression>
    </formulas>
    <formulas>
        <name>lowercase_actionTypeNoun</name>
        <dataType>String</dataType>
        <expression>LOWER({!actionTypeNoun})</expression>
    </formulas>
    <formulas>
        <name>renewalOpportunityName</name>
        <dataType>String</dataType>
        <expression>&quot;Renewal Opportunity for Contract - &quot; + {!Get_Contract_Record.ContractNumber}</expression>
    </formulas>
    <formulas>
        <name>TermFormula</name>
        <dataType>Number</dataType>
        <expression>IF(DAY({!Get_Contract_Record.EndDate}) &lt; DAY({!Selected_Start_Date}), (MONTH({!Get_Contract_Record.EndDate})) + (12*(YEAR({!Get_Contract_Record.EndDate})-(YEAR({!Selected_Start_Date})))) - (MONTH({!Selected_Start_Date})) - 1, (MONTH({!Get_Contract_Record.EndDate})) + (12*(YEAR({!Get_Contract_Record.EndDate})-YEAR({!Selected_Start_Date}))) - MONTH({!Selected_Start_Date}))</expression>
        <scale>1</scale>
    </formulas>
    <interviewLabel>Amend, Renew, and Cancel Assets-Custom {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Amend, Renew, and Cancel Assets-Custom</label>
    <loops>
        <name>Iterate_through_oppty_lines</name>
        <label>Iterate through oppty lines</label>
        <locationX>2294</locationX>
        <locationY>4094</locationY>
        <collectionReference>Get_Oppty_Lines</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Amend_Quote_and_Assets_have_this_Product</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Are_there_QLIs_to_be_inserted</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Iterate_through_oppty_lines_addOn</name>
        <label>Iterate through oppty lines-addOn</label>
        <locationX>1106</locationX>
        <locationY>4502</locationY>
        <collectionReference>Get_Oppty_Lines</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Create_new_quote_line_item_AddOn</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Place_AddOn_Quote</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Through_Assets</name>
        <label>Loop Through Assets</label>
        <locationX>1733</locationX>
        <locationY>2846</locationY>
        <collectionReference>Get_Asset_Records</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_To_AssetProductIds</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Assign_Oppty_ID</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Renewal_Opportunity</name>
        <label>Create Renewal Opportunity</label>
        <locationX>2648</locationX>
        <locationY>998</locationY>
        <connector>
            <targetReference>Renew_Assets</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>Get_Account_Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CloseDate</field>
            <value>
                <elementReference>Get_Contract_Record.EndDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <elementReference>Get_Contract_Record.CurrencyIsoCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>renewalOpportunityName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Proposal</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Get_Account_Record</name>
        <label>Get Account Record</label>
        <locationX>2582</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Resolve_Action_From_Flow_Entry</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Contract_Record.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Asset_Records</name>
        <label>Get Asset Records</label>
        <locationX>1733</locationX>
        <locationY>2738</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Through_Assets</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>recordIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Asset</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Contract_Record</name>
        <label>Get Contract Record</label>
        <locationX>2582</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Account_Record</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>errorMessageAssignment</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>contractId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contract</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Default_Pricebook</name>
        <label>Get Default Pricebook</label>
        <locationX>974</locationX>
        <locationY>3770</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Term_Less_Than_12_Months</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Standard Price Book</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Pricebook2</object>
        <queriedFields>Id</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Oppty_Info</name>
        <label>Get Oppty Info</label>
        <locationX>1733</locationX>
        <locationY>3254</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Oppty_Lines</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OpptyForNewQuote</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Oppty_Lines</name>
        <label>Get Oppty Lines</label>
        <locationX>1733</locationX>
        <locationY>3362</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Amend_Or_AddOn</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OpptyForNewQuote</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OpportunityLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Quote_Fields</name>
        <label>Update Quote Fields</label>
        <locationX>1964</locationX>
        <locationY>3878</locationY>
        <connector>
            <targetReference>Are_there_oppty_lines_to_be_processed</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assignment_17</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Amend_Assets.amendRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>Quote_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ServiceEndDate__c</field>
            <value>
                <elementReference>Get_Contract_Record.EndDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ServiceStartDate__c</field>
            <value>
                <elementReference>Selected_Start_Date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Term__c</field>
            <value>
                <elementReference>TermFormula</elementReference>
            </value>
        </inputAssignments>
        <object>Quote</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Quote_with_Oppty_ID</name>
        <label>Update Quote with Oppty ID</label>
        <locationX>842</locationX>
        <locationY>5318</locationY>
        <connector>
            <targetReference>Navigate_To_New_Quote</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>newQuoteId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>OpportunityId</field>
            <value>
                <elementReference>OpptyForNewQuote</elementReference>
            </value>
        </inputAssignments>
        <object>Quote</object>
    </recordUpdates>
    <screens>
        <name>Confirm_Selling_Option</name>
        <label>Confirm Selling Option</label>
        <locationX>2604</locationX>
        <locationY>1922</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>New_Quote_Screen</targetReference>
        </connector>
        <fields>
            <name>sellingMotionHeader4</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Confirm Selling Motion&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>sellingMotionChoices</name>
            <choiceReferences>AmendChoice</choiceReferences>
            <choiceReferences>AddonChoice</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>AmendChoice</defaultSelectedChoiceReference>
            <fieldText>What kind of change do you want to make to this contract?</fieldText>
            <fieldType>RadioButtons</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>assetQuoteLineNote</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;font-size: 12px; color: rgb(247, 57, 4);&quot;&gt;&lt;span class=&quot;ql-cursor&quot;&gt;&lt;/span&gt;Previously selected Asset will be brought forward as a Quote Line.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>sellingMotionChoices</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>AmendChoice</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>addOnQuoteLineNote</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;font-size: 12px; color: rgb(247, 57, 3); background-color: rgb(255, 255, 255);&quot;&gt;&lt;span class=&quot;ql-cursor&quot;&gt;&lt;/span&gt;&lt;/em&gt;&lt;em style=&quot;font-size: 12px; color: rgb(247, 57, 4); background-color: rgb(255, 255, 255);&quot;&gt;Previously selected Asset will &lt;/em&gt;&lt;strong style=&quot;font-size: 12px; color: rgb(247, 57, 4); background-color: rgb(255, 255, 255);&quot;&gt;&lt;em&gt;not&lt;/em&gt;&lt;/strong&gt;&lt;em style=&quot;font-size: 12px; color: rgb(247, 57, 4); background-color: rgb(255, 255, 255);&quot;&gt; be brought forward as a Quote Line.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>sellingMotionChoices</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>AddonChoice</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <nextOrFinishButtonLabel>Continue</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Empty_Screen</name>
        <label>Empty  Screen</label>
        <locationX>974</locationX>
        <locationY>5618</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen for selecting the start date of the amendment or cancellation.</description>
        <name>New_Quote_Screen</name>
        <label>New Quote Screen</label>
        <locationX>2736</locationX>
        <locationY>2114</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Assign_startDate</targetReference>
        </connector>
        <fields>
            <name>Date_Selector_Screen_Header</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(68, 68, 68); font-size: 18px; background-color: rgb(255, 255, 255);&quot;&gt;New Quote&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>New_Quote_Screen_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>New_Quote_Screen_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Quote_Name</name>
                    <dataType>String</dataType>
                    <defaultValue>
                        <stringValue>Amendment Quote For {!Get_Contract_Record.Name}</stringValue>
                    </defaultValue>
                    <fieldText>Quote Name</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                </fields>
                <fields>
                    <name>Selected_Start_Date</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>$Flow.CurrentDate</elementReference>
                    </defaultValue>
                    <fieldText>Service Start Date</fieldText>
                    <fieldType>InputField</fieldType>
                    <helpText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;You will be able to edit the {!lowercase_actionTypeNoun} dates for each individual asset once you enter the  {!outputType}.&lt;/span&gt;&lt;/p&gt;</helpText>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <validationRule>
                        <errorMessage>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(255, 0, 0);&quot;&gt;Provide a date of today or a date in the future but, before Contract End Date ({!Get_Contract_Record.EndDate}).&lt;/span&gt;&lt;/p&gt;</errorMessage>
                        <formulaExpression>{!Selected_Start_Date} &gt;= {!$Flow.CurrentDate} &amp;&amp;
{!Selected_Start_Date} &lt;=
IF(ISNULL({!Get_Contract_Record.EndDate}), {!Selected_Start_Date}, {!Get_Contract_Record.EndDate})</formulaExpression>
                    </validationRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>New_Quote_Screen_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Valid_Through_Date</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>f_LastDayOfMonth</elementReference>
                    </defaultValue>
                    <fieldText>Valid Through Date</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <validationRule>
                        <errorMessage>&lt;p&gt;Valid Through Date cannot be earlier than today.&lt;/p&gt;</errorMessage>
                        <formulaExpression>{!Valid_Through_Date} &gt;= {!$Flow.CurrentDate}</formulaExpression>
                    </validationRule>
                </fields>
                <fields>
                    <name>Syncing</name>
                    <extensionName>flowruntime:toggle</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Syncing</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>value</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>Toggle_Note</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The Syncing toggle represents the primary Quote that will sync to the Opportunity. If toggled to Active, this Quote will be used to calculate the Opportunity Amount. Only one Quote can be synced with the Opportunity at any given time. &lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Select_or_Create_an_Opportunity</name>
            <fieldText>Select or Create an Opportunity</fieldText>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Select_or_Create_an_Opportunity_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Oppty_Choices</name>
                    <choiceReferences>New_Oppty_Choice</choiceReferences>
                    <choiceReferences>Existing_Oppty_Choice</choiceReferences>
                    <dataType>String</dataType>
                    <defaultSelectedChoiceReference>New_Oppty_Choice</defaultSelectedChoiceReference>
                    <fieldText>Would you like a New Opportunity created for you, or is there an Open Opportunity that you would like to use?</fieldText>
                    <fieldType>RadioButtons</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithHeader</regionContainerType>
        </fields>
        <fields>
            <name>New_Quote_Screen_Section3</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>New_Quote_Screen_Section3_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>GenLKP_Oppty</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Opportunity</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:genericLookupComponent</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>additionalConditions</name>
                        <value>
                            <stringValue>, AccountId: {eq: &quot;{!Get_Contract_Record.AccountId}&quot;} ,  StageName: {nin: [&quot;Closed Won&quot;,&quot;Closed Lost&quot;]}, Type: {eq: &quot;Amend&quot;}</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectedIconName</name>
                        <value>
                            <stringValue>standard:opportunity</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>Name</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>fieldLabel</name>
                        <value>
                            <stringValue>*Opportunity</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Opportunity</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectLabel</name>
                        <value>
                            <stringValue>Opportunity</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>placeholder</name>
                        <value>
                            <stringValue>Search Opportunity..</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <validationRule>
                        <errorMessage>&lt;p&gt;Please select an Opportunity&lt;/p&gt;</errorMessage>
                        <formulaExpression>NOT(ISBLANK({!GenLKP_Oppty.selectedRecordOutput.Id}))</formulaExpression>
                    </validationRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>New_Quote_Screen_Section3_Column2</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Oppty_Choices</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>Existing_Oppty_Choice</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <nextOrFinishButtonLabel>Create Quote</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Quoting_Under_Maintenance</name>
        <label>Quoting Under Maintenance</label>
        <locationX>50</locationX>
        <locationY>350</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>QuotingMaintenanceText</name>
            <fieldText>&lt;p&gt;Quoting is currently unavailable due to scheduled maintenance. Quotes cannot be created, modified, or submitted for approvals while maintenance is underway. Please check back later.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;For more information see the &lt;a href=&quot;https://salesforce.enterprise.slack.com/archives/C0216MGHLSU&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;#broadcast-revenue-eops-comms&lt;/a&gt; in Slack.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Close</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <sourceTemplate>runtime_revenue_arcflows__arcFlow</sourceTemplate>
    <start>
        <locationX>1811</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Quoting_Maintenance_Check_Subflow</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Create_Opportunity</name>
        <label>Create Opportunity</label>
        <locationX>1205</locationX>
        <locationY>2738</locationY>
        <connector>
            <targetReference>Amend_Or_AddOn</targetReference>
        </connector>
        <flowName>SubFlow_to_Create_Opportunity_on_Contract_Amendment</flowName>
        <inputAssignments>
            <name>Input_AccountId</name>
            <value>
                <elementReference>Get_Contract_Record.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Input_Amendment_StartDate</name>
            <value>
                <elementReference>Selected_Start_Date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Input_Contract_Number</name>
            <value>
                <elementReference>Get_Contract_Record.ContractNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Input_CurrencyIsoCode</name>
            <value>
                <elementReference>Get_Contract_Record.CurrencyIsoCode</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>OpptyForNewQuote</assignToReference>
            <name>Output_OpportunityId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Create_Oppty_for_AddOn_Quote</name>
        <label>Create Oppty for AddOn Quote</label>
        <locationX>842</locationX>
        <locationY>5210</locationY>
        <connector>
            <targetReference>Update_Quote_with_Oppty_ID</targetReference>
        </connector>
        <flowName>SubFlow_to_Create_Opportunity_on_Contract_Amendment</flowName>
        <inputAssignments>
            <name>Input_AccountId</name>
            <value>
                <elementReference>Get_Account_Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Input_Amendment_StartDate</name>
            <value>
                <elementReference>Selected_Start_Date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Input_Contract_Number</name>
            <value>
                <elementReference>Get_Contract_Record.ContractNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Input_CurrencyIsoCode</name>
            <value>
                <elementReference>Get_Contract_Record.CurrencyIsoCode</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>OpptyForNewQuote</assignToReference>
            <name>Output_OpportunityId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Quoting_Maintenance_Check_Subflow</name>
        <label>Quoting Maintenance Check Subflow</label>
        <locationX>1937</locationX>
        <locationY>134</locationY>
        <connector>
            <targetReference>Quoting_Maintenance_Check</targetReference>
        </connector>
        <flowName>Is_Quoting_In_Maintenance_Mode</flowName>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <variables>
        <description>Indicates which of the Amend, Renew, or Cancel Invocable Actions to invoke</description>
        <name>actionType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Noun tense of actionType (e.g., if actionType is &quot;Amend&quot;, then actionTypeNoun will be&quot;Amendment&quot;)</description>
        <name>actionTypeNoun</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>amendQLIsToInsert</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>QuoteLineItem</objectType>
    </variables>
    <variables>
        <name>AssetProductIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>AssignAutoRenewal</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>Yes</stringValue>
        </value>
    </variables>
    <variables>
        <name>contractId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>currentItem_Collection_Filter_1</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>currentItem_Filter_Opptys</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>currentItemFromSourceCollection</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>currentItemFromSourceCollection_0</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>errorMessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <elementReference>$Flow.FaultMessage</elementReference>
        </value>
    </variables>
    <variables>
        <name>newQuoteId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>newQuoteLineInfo</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>QuoteLineItem</objectType>
    </variables>
    <variables>
        <name>OpptyForNewQuote</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OpptyForRenewalQuote</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>outputRecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>The type of record to be created as part of this operation. Supported values are Order and Quote.</description>
        <name>outputType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue>Quote</stringValue>
        </value>
    </variables>
    <variables>
        <description>The quantity to add to or reduce from the asset&apos;s existing quantity</description>
        <name>quantityChange</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>quoteInfo</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Quote</objectType>
    </variables>
    <variables>
        <name>quoteLineList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>QuoteLineItem</objectType>
    </variables>
    <variables>
        <description>The asset IDs that are passed in as input to the flow</description>
        <name>recordIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>screenHeaderText</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>Amend, Renew and Cancel Flow</stringValue>
        </value>
    </variables>
    <variables>
        <name>selectedAssetCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <description>The effective date for the new amendment/cancellation order/quote</description>
        <name>startDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Flow.CurrentDate</elementReference>
        </value>
    </variables>
    <variables>
        <description>The incoming record ID. Supported values are Order ID and Quote ID.</description>
        <name>transactionId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
