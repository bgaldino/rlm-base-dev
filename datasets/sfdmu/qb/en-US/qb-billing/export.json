{
  "apiVersion": "66.0",
  "excludeIdsFromCSVFiles": "true",
  "useSeparatedCSVFiles": true,
  "objectSets": [
    {
      "name": "First Pass - Insert/Upsert with Draft Status",
      "objects": [
        {
          "query": "SELECT EndDate, FinancialYear, Name, StartDate, Status FROM AccountingPeriod",
          "operation": "Upsert",
          "externalId": "Name;FinancialYear",
          "excluded": false
        },
        {
          "query": "SELECT CompanyName, CurrencyIsoCode, Description, LegalEntityCity, LegalEntityCountry, LegalEntityPostalCode, LegalEntityState, LegalEntityStreet, Name, Status FROM LegalEntity",
          "operation": "Upsert",
          "externalId": "Name",
          "excluded": false
        },
        {
          "query": "SELECT AccountingPeriodId, AccountingPeriod.Name, LegalEntityId, LegalEntity.Name, Name, Status FROM LegalEntyAccountingPeriod",
          "operation": "Upsert",
          "externalId": "Name",
          "excluded": false
        },
        {
          "query": "SELECT Description, IsDefault, Name, Status FROM PaymentTerm",
          "operation": "Upsert",
          "externalId": "Name",
          "skipExistingRecords": true,
          "excluded": false
        },
        {
          "query": "SELECT Description, PaymentTermId, PaymentTerm.Name, PaymentTimeframe, Period, PeriodUnit, Type FROM PaymentTermItem",
          "operation": "Upsert",
          "externalId": "$$PaymentTerm.Name$Type",
          "skipExistingRecords": true,
          "excluded": false
        },
        {
          "query": "SELECT BillingTreatmentSelection, Description, Name, Status FROM BillingPolicy",
          "operation": "Upsert",
          "externalId": "Name",
          "skipExistingRecords": true,
          "excluded": false
        },
        {
          "query": "SELECT BillingPolicyId, BillingPolicy.Name, CurrencyIsoCode, Description, IsMilestoneBilling, ExcludeFromBilling, LegalEntityId, LegalEntity.Name, Name, Status FROM BillingTreatment",
          "operation": "Upsert",
          "externalId": "Name;BillingPolicy.Name;LegalEntity.Name",
          "skipExistingRecords": true,
          "excluded": false
        },
        {
          "query": "SELECT BillingTreatmentId, BillingTreatment.Name, BillingTreatment.BillingPolicy.Name, BillingTreatment.LegalEntity.Name, BillingType, Controller, CurrencyIsoCode, Description, FlatAmount, MilestoneStartDateOffset, MilestoneStartDateOffsetUnit, MilestoneStartDate, MilestoneType, Name, Percentage, ProcessingOrder, Sequencing, Status, Type, Handling0Amount FROM BillingTreatmentItem",
          "operation": "Upsert",
          "externalId": "$$Name$BillingTreatment.Name",
          "skipExistingRecords": true,
          "excluded": false
        },
        {
          "query": "SELECT BillingPolicyId, StockKeepingUnit FROM Product2 ORDER BY StockKeepingUnit ASC",
          "operation": "Update",
          "externalId": "StockKeepingUnit",
          "excluded": false
        },
        {
          "query": "SELECT AccountingCode, AccountingName, AccountingType, CurrencyIsoCode, Description, FinancialStatement, LegalEntityId, LegalEntity.Name, Name, Type FROM GeneralLedgerAccount",
          "operation": "Upsert",
          "externalId": "Name;LegalEntity.Name",
          "excluded": false
        },
        {
          "query": "SELECT CurrencyIsoCode, FilterCriteria, FilterLogic, DebitGeneralLedgerAccountId, CreditGeneralLedgerAccountId, LegalEntityId, LegalEntity.Name, Name, Priority, Status, TransactionAmountField, TransactionType FROM GeneralLedgerAcctAsgntRule",
          "operation": "Upsert",
          "externalId": "Name;LegalEntity.Name",
          "excluded": false
        }
      ]
    },
    {
      "name": "Second Pass - Activate BillingTreatmentItem",
      "objects": [
        {
          "query": "SELECT BillingTreatmentId, BillingTreatment.Name, BillingTreatment.BillingPolicy.Name, BillingTreatment.LegalEntity.Name, Name, Status FROM BillingTreatmentItem WHERE Status = 'Draft'",
          "operation": "Update",
          "externalId": "$$Name$BillingTreatment.Name",
          "excluded": false
        }
      ]
    },
    {
      "name": "Third Pass - Set DefaultBillingTreatmentId on BillingPolicy",
      "objects": [
        {
          "query": "SELECT BillingPolicyId, BillingPolicy.Name, LegalEntityId, LegalEntity.Name, Name, Status FROM BillingTreatment WHERE Status = 'Draft'",
          "operation": "Update",
          "externalId": "Name;BillingPolicy.Name;LegalEntity.Name",
          "excluded": false
        },
        {
          "query": "SELECT DefaultBillingTreatmentId, DefaultBillingTreatment.$$Name$BillingPolicy.Name$LegalEntity.Name, BillingTreatmentSelection, Description, Name, Status FROM BillingPolicy WHERE Status = 'Draft'",
          "operation": "Update",
          "externalId": "Name",
          "excluded": false
        }
      ]
    }
  ],
  "orgs": []
}